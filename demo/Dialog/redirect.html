<!DOCTYPE html>
<html lang="en" s>
<head>
    <meta charset="UTF-8">
    <title>对话框例子</title>
    <script src="../san.min.js"></script>
    <link href="../../demo/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="../../dist/Dialog.css" rel="stylesheet"/>
    <script src="../../dist/Dialog.js"></script>
    <script src="../require.js"></script>
</head>
<body>
<div id="app"></div>

<script type="text/html" id="template">
    <div>
        <button on-click="openDialog('dialog1')">打开1</button>
        <button on-click="openDialog('dialog2')">打开2</button>
        <ui-dialog title="测试test1" visible="{=dialog1=}">
            <div>
                <p>内容</p><p>内容</p><p>内容</p><p>内容</p>
                <p>内容</p><p>内容</p><p>内容</p><p>内容</p>
                <p>内容</p><p>内容</p><p>内容</p><p>内容</p>
                <p>内容</p><p>内容</p><p>内容</p><p>内容</p>
                <p>内容</p><p>内容</p><p>内容</p><p>内容</p>
                <p>内容</p><p>内容</p><p>内容</p><p>内容</p>
                <p>内容</p><p>内容</p><p>内容</p><p>内容</p>
                <p>内容</p><p>内容</p><p>内容</p><p>内容</p>
            </div>
            <div slot="footer" style="text-align: right;">
                <button>取消</button>
                <button>取消</button>
            </div>
        </ui-dialog>
        <ui-dialog title="测试test2" visible s-if="dialog2" on-close="closeDialog('dialog2')"
                   style="width: 600px;"></ui-dialog>
    </div>
</script>

<script type="text/javascript">
    var Demo = san.defineComponent({
        template: document.getElementById('template').innerHTML,
        components: {
            'ui-dialog': justUI.Dialog
        },
        initData: function () {
            return {
                cnt: 1
            };
        },
        attached: function () {
            var _this = this;
            setInterval(function () {
                _this.data.set('cnt', _this.data.get('cnt') + 1);
            }, 1000, 1000);
        },
        openDialog: function (dialog) {
            this.data.set(dialog, true);
        },
        closeDialog: function (dialog) {
            this.data.set(dialog, false);
        }
    });
    new Demo().attach(document.getElementById('app'));
</script>
</body>
</html>